<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>My Page</title>
    <script src="/js/myPageView.js"></script>
    <link rel="stylesheet" href="/css/myPageView.css">
</head>
<body>
<header th:insert="common/header.html"></header>
    <div class="myPageMain">
        <div th:if="${session.user == null}">
            <script>
                alert("세션이 만료되었습니다. 다시 로그인해주세요.");
                location.href = "/loginRegister";
            </script>
        </div>
        <div th:if="${session.user != null}">

            <h2 th:text="${item.nickname + '님의 페이지입니다'}"></h2>
            <div class="myProfile">
                <div class="img-area" th:id="${item.userId}"></div>
                <form th:action="" method="post" class="intro-form">
                    <textarea class="intro-area">간단한 자기소개 부탁해요!</textarea>
                    <button type="submit">upload</button>
                </form>

            </div>

            <form th:action="@{/myPageView/__${item.userId}__}" method="POST" enctype="multipart/form-data" class="img-form">
                <label for="file-input" class="file-upload-button">
                    <i class="fas fa-square">profile update</i>
                </label>
                <input type="file" id="file-input" class="file-input"/>
                <button type="submit">upload</button>
            </form>


            <table>
                <thead>
                <tr>
                    <th>Username</th>
                    <th>birth</th>
                    <th>Gender</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td th:text="${item.nickname}"></td>
                    <td th:text="${item.birth}"></td>
                    <td th:text="${item.gender == 0 ? 'man' : 'woman'}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

</body>
</html>